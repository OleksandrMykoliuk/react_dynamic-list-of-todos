{"version":3,"sources":["components/Todo/TodoShape.js","components/Todo/Todo.js","components/TodoList/TodoList.jsx","components/TodoList/TodoListShape.js","api.js","components/CurrentUser/CurrentUser.jsx","components/CurrentUser/CurrentUserShape.js","App.jsx","index.js"],"names":["TodoShape","PropTypes","shape","id","number","isRequired","userId","completed","bool","title","string","classNames","require","Todo","todos","selectUserId","selectedUserId","className","map","todo","TodoList__item","key","type","checked","readOnly","button","onClick","TodoList","arrayOf","func","state","searchValue","showedTodos","handleChange","event","target","name","value","setState","this","props","preparedTodos","filter","toLowerCase","includes","placeholder","onChange","React","PureComponent","request","url","options","fetch","then","res","ok","Error","status","statusText","json","result","data","getUser","CurrentUser","clearUserId","currentUser","userUpdate","user","email","phone","App","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b919577d.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\n\nexport const TodoShape = PropTypes.shape({\n  id: PropTypes.number.isRequired,\n  userId: PropTypes.number,\n  completed: PropTypes.bool,\n  title: PropTypes.string.isRequired,\n}).isRequired;\n","import React from 'react';\nimport { TodoShape } from './TodoShape';\n\nconst classNames = require('classnames');\n\nexport const Todo = ({ todos, selectUserId, selectedUserId }) => (\n  <div className=\"TodoList__list-container\">\n    <ul className=\"TodoList__list\">\n      {todos.map(todo => (\n        <li\n          className={\n            classNames({\n              TodoList__item: true,\n              'TodoList__item--unchecked': !todo.completed,\n              'TodoList__item--checked': todo.completed,\n            })\n          }\n          key={todo.id}\n        >\n          <label>\n            {\n              todo.completed\n                ? <input type=\"checkbox\" checked readOnly />\n                : <input type=\"checkbox\" readOnly />\n            }\n            <p>{todo.title}</p>\n          </label>\n\n          <button\n            className={\n              classNames({\n                button: true,\n                'TodoList__user-button': true,\n                'TodoList__user-button--selected':\n                   selectedUserId === todo.userId,\n              })\n            }\n            type=\"button\"\n            onClick={() => selectUserId(todo.userId)}\n          >\n            {`User #${todo.userId}`}\n          </button>\n        </li>\n      ))}\n    </ul>\n  </div>\n);\n\nTodo.propTypes = TodoShape;\n","import React from 'react';\nimport './TodoList.scss';\nimport { Todo } from '../Todo';\nimport { TodoListShape } from './TodoListShape';\n\nexport class TodoList extends React.PureComponent {\n  state = {\n    searchValue: '',\n    showedTodos: '',\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  render() {\n    const { todos, selectUserId, selectedUserId } = this.props;\n    const { searchValue, showedTodos } = this.state;\n    let preparedTodos = todos.filter(\n      todo => todo.title.toLowerCase().includes(searchValue),\n    );\n\n    if (showedTodos === 'completed') {\n      preparedTodos = preparedTodos.filter(todo => todo.completed);\n    }\n\n    if (showedTodos === 'active') {\n      preparedTodos = preparedTodos.filter(todo => !todo.completed);\n    }\n\n    return (\n      <div className=\"TodoList\">\n        <div className=\"TodoList__form\">\n          <label>\n            <input\n              type=\"text\"\n              className=\"TodoList__input\"\n              placeholder=\"write name of title, please\"\n              name=\"searchValue\"\n              value={searchValue}\n              onChange={this.handleChange}\n            />\n          </label>\n          <label>\n            <select\n              name=\"showedTodos\"\n              value={showedTodos}\n              className=\"TodoList__select\"\n              onChange={this.handleChange}\n            >\n              <option value=\"\">\n                All\n              </option>\n              <option value=\"completed\">\n                Completed\n              </option>\n              <option value=\"active\">\n                Active\n              </option>\n            </select>\n          </label>\n        </div>\n        <h2>Todos:</h2>\n        <Todo\n          todos={preparedTodos}\n          selectUserId={selectUserId}\n          selectedUserId={selectedUserId}\n        />\n      </div>\n    );\n  }\n}\n\nTodoList.propTypes = TodoListShape;\n","import PropTypes from 'prop-types';\nimport { TodoShape } from '../Todo/TodoShape';\n\nexport const TodoListShape = PropTypes.shape({\n  todos: PropTypes.arrayOf(TodoShape).isRequired,\n  selectUserId: PropTypes.func.isRequired,\n  selectedUserId: PropTypes.number.isRequired,\n}).isRequired;\n","const BASE_URL = 'https://mate-api.herokuapp.com';\n\nexport const request = (url, options) => fetch(`${BASE_URL}${url}`, options)\n  .then((res) => {\n    if (!res.ok) {\n      throw new Error(`${res.status} - ${res.statusText}`);\n    }\n\n    return res.json();\n  })\n  .then(result => result.data);\n\nexport const getTodos = () => request('/todos')\n  .then(result => result.filter(\n    todo => todo.title && todo.id && todo.userId,\n  ));\n\nexport const getUser = userId => request(`/users/${userId}`);\n","import React from 'react';\nimport './CurrentUser.scss';\nimport { getUser } from '../../api';\nimport { CurrentUserShape } from './CurrentUserShape';\n\nexport class CurrentUser extends React.PureComponent {\n  state = {\n    currentUser: {},\n  }\n\n  componentDidMount() {\n    this.userUpdate(this.props.selectedUserId);\n  }\n\n  componentDidUpdate() {\n    this.userUpdate(this.props.selectedUserId);\n  }\n\n  async userUpdate(userId) {\n    const { currentUser } = this.state;\n\n    if (userId !== currentUser.id) {\n      const user = await getUser(userId);\n\n      this.setState({ currentUser: user });\n    }\n  }\n\n  render() {\n    const { currentUser } = this.state;\n\n    return (\n      <div>\n        <div className=\"CurrentUser\">\n          <h2 className=\"CurrentUser__title\">\n            <span>\n              {`Selected user: ${currentUser.id}`}\n            </span>\n          </h2>\n          <h3 className=\"CurrentUser__name\">{currentUser.name}</h3>\n          <p className=\"CurrentUser__email\">\n            {currentUser.email}\n          </p>\n          <p className=\"CurrentUser__phone\">\n            {currentUser.phone}\n          </p>\n        </div>\n        <button\n          type=\"button\"\n          className=\"CurrentUser__clear\"\n          onClick={this.props.clearUserId}\n        >\n          Clear\n        </button>\n      </div>\n    );\n  }\n}\n\nCurrentUser.propTypes = CurrentUserShape;\n","import PropTypes from 'prop-types';\n\nexport const CurrentUserShape = PropTypes.shape({\n  getUser: PropTypes.func.isRequired,\n  clearUserId: PropTypes.func.isRequired,\n  selectedUserId: PropTypes.number.isRequired,\n}).isRequired;\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos, getUser } from './api';\n\nclass App extends React.Component {\n  state = {\n    todos: [],\n    selectedUserId: null,\n  };\n\n  componentDidMount() {\n    getTodos()\n      .then((todos) => {\n        this.setState({ todos });\n      });\n  }\n\n  selectUserId = (userId) => {\n    this.setState({\n      selectedUserId: userId,\n    });\n  }\n\n  clearUserId = () => {\n    this.setState({\n      selectedUserId: 0,\n    });\n  }\n\n  render() {\n    const { todos, selectedUserId } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            todos={todos}\n            selectedUserId={selectedUserId}\n            selectUserId={this.selectUserId}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                selectedUserId={selectedUserId}\n                getUser={getUser}\n                clearUserId={this.clearUserId}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}